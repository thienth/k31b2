<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="public/plugins/bootstrap/css/bootstrap.min.css">
</head>
<body>
	<form class="col-md-6 col-md-offset-3">
		<input type="hidden" name="id" value="">
		<div class="form-group">
			<label for="">Tên</label>
			<input type="text" name="name" value="" placeholder="" class="form-control">
			<span class="text-danger hide err-name"></span>
		</div>
		<div class="form-group">
			<label for="">Tuổi</label>
			<input type="number" name="age" value="" placeholder="" class="form-control">
			<span class="text-danger hide err-age"></span>
		</div>
		<div class="form-group">
			<label for="">Địa chỉ</label>
			<input type="text" name="address" value="" placeholder="" class="form-control">
			<span class="text-danger hide err-address"></span>
		</div>
		<div class="text-center">
			<button type='button' class="btn btn-success btn-add">Thêm</button>
		</div>
	</form>

	<table class="table">
		<thead>
			<tr>
				<th>Tên</th>
				<th>Tuổi</th>
				<th>Địa chỉ</th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			
		</tbody>
	</table>

	<script src="public/plugins/jquery/jquery.min.js"></script>
	<script>
		$('.btn-add').click(function(){
			var name = $('[name=name]').val();
			var age = $('[name=age]').val();
			var address = $('[name=address]').val();
			var flag = true;
			var maxIds = 0;

			if(name == ""){
				$('.err-name').text('Vui lòng nhập tên!');
				$('.err-name').removeClass('hide');
				flag = false;
			}else{
				$('.err-name').addClass('hide');
			}

			if(age == "" || age < 0 || age > 100){
				$('.err-age').text('Vui lòng nhập tên > 0 và <= 100!');
				$('.err-age').removeClass('hide');
				flag = false;
			}else{
				$('.err-age').addClass('hide');
			}

			if(address == ""){
				$('.err-address').text('Vui lòng nhập địa chỉ');
				$('.err-address').removeClass('hide');
				flag = false;
			}else{
				$('.err-address').addClass('hide');
			}

			if(flag){
				maxIds++;
				var tr = `<tr p-id="${maxIds}">
					<td>${name}</td>
					<td>${age}</td>
					<td>${address}</td>
					<td>
						<button type="button" id="${maxIds}" class="btn btn-info">Edit</button>
						<button onclick="remove(this)" type="button" id="${maxIds}" class="btn btn-danger btn-remove">Remove</button>
					</td>
				</tr>`;

				$('tbody').append(tr);
				$('[name=name]').val('');
				$('[name=age]').val('');
				$('[name=address]').val('');
			}

		});
		// $('.btn-remove').click(function(){
		// 	$(this).parent().parent().remove();
		// })
		function remove(element){
			$(element).parent().parent().remove();
		}
	</script>
</body>
</html>